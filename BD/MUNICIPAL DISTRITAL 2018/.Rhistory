getwd()
dirname(getwd())
dirname()
setwd(paste0(getwd(), "/BD/MUNICIPAL DISTRITAL 2018"))
getwd()
#importamos en df cada uno de los archivos
candidatos <- read_xlsx("ERM2018_Candidatos_Distrital.xlsx")
library(readxl)
#importamos en df cada uno de los archivos
candidatos <- read_xlsx("ERM2018_Candidatos_Distrital.xlsx")
unique(candidatos$Region)
candidatos_2 <- candidatos |>
mutate(Joven = ifelse(is.na(Joven), "No Joven", Joven)) |>
mutate(Nativo = ifelse(is.na(Nativo), "No Nativo", Nativo)) |>
mutate(macrorregion = if_else(Region %in% c("AMAZONAS" , "CAJAMARCA","LA LIBERTAD", "LAMBAYEQUE", "LORETO", "PIURA", "SAN MARTIN", "TUMBES"), "Norte",
if_else(Region %in% c("LIMA","ANCASH", "CALLAO", "HUANCAVELICA", "HUANUCO", "JUNIN","MADRE DE DIOS", "PASCO", "UCAYALI"), "Centro",
if_else(Region %in% c("AREQUIPA","APURIMAC", "AYACUCHO", "CUSCO","ICA","MOQUEGUA", "PUNO", "TACNA"), "Sur", "NA"))))
library(dplyr)
library(ggmosaic)
library(readxl)
library(ggplot2)
library(ggpol)
library(rio)
library(dplyr)
library(tidyverse)
library(magrittr)
library(ggmosaic)
candidatos <- as.data.frame(candidatos)
candidatos_2 <- candidatos |>
mutate(Joven = ifelse(is.na(Joven), "No Joven", Joven)) |>
mutate(Nativo = ifelse(is.na(Nativo), "No Nativo", Nativo)) |>
mutate(macrorregion = if_else(Region %in% c("AMAZONAS" , "CAJAMARCA","LA LIBERTAD", "LAMBAYEQUE", "LORETO", "PIURA", "SAN MARTIN", "TUMBES"), "Norte",
if_else(Region %in% c("LIMA","ANCASH", "CALLAO", "HUANCAVELICA", "HUANUCO", "JUNIN","MADRE DE DIOS", "PASCO", "UCAYALI"), "Centro",
if_else(Region %in% c("AREQUIPA","APURIMAC", "AYACUCHO", "CUSCO","ICA","MOQUEGUA", "PUNO", "TACNA"), "Sur", "NA"))))
candidatos_2 |>
group_by(macrorregion, Sexo) |>
ggplot()+
labs("Distribución de candidatos por macrorregión y sexo")+
geom_mosaic(aes(x = product(macrorregion), fill=Sexo)) +
theme_mosaic()
candidatos_2 |>
group_by(macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(macrorregion), fill=Sexo)) +
labs("Distribución de candidatos por macrorregión y sexo")+
theme_mosaic()
candidatos_2 |>
group_by(macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(macrorregion), fill=Sexo)) +
ggtitle("Distribución de candidatos por macrorregión y sexo")+
theme_mosaic()
candidatos_2 |>
group_by(macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(macrorregion), fill=Sexo)) +
ggtitle("Distribución de candidatos por macrorregión y sexo", align = "center")+
theme_mosaic()
autoridades <- read_xlsx("ERM2018_Autoridades_Distrital.xlsx")
autoridades <- as.data.frame(autoridades)
autoridades_2 <- autoridades |>
mutate(Joven = ifelse(is.na(Joven), "No Joven", Joven)) |>
mutate(Nativo = ifelse(is.na(Nativo), "No Nativo", Nativo)) |>
mutate(Macrorregion = if_else(Region %in% c("AMAZONAS" , "CAJAMARCA","LA LIBERTAD", "LAMBAYEQUE", "LORETO", "PIURA", "SAN MARTIN", "TUMBES"), "Norte",
if_else(Region %in% c("LIMA","ANCASH", "CALLAO", "HUANCAVELICA", "HUANUCO", "JUNIN","MADRE DE DIOS", "PASCO", "UCAYALI"), "Centro",
if_else(Region %in% c("AREQUIPA","APURIMAC", "AYACUCHO", "CUSCO","ICA","MOQUEGUA", "PUNO", "TACNA"), "Sur", "NA"))))
View(candidatos)
View(autoridades)
autoridades <- as.data.frame(autoridades)
autoridades_2 <- autoridades |>
mutate(Joven = ifelse(is.na(Joven), "No Joven", Joven)) |>
mutate(Nativo = ifelse(is.na(Nativo), "No Nativo", Nativo)) |>
mutate(Macrorregion = if_else(Región %in% c("AMAZONAS" , "CAJAMARCA","LA LIBERTAD", "LAMBAYEQUE", "LORETO", "PIURA", "SAN MARTIN", "TUMBES"), "Norte",
if_else(Región %in% c("LIMA","ANCASH", "CALLAO", "HUANCAVELICA", "HUANUCO", "JUNIN","MADRE DE DIOS", "PASCO", "UCAYALI"), "Centro",
if_else(Región %in% c("AREQUIPA","APURIMAC", "AYACUCHO", "CUSCO","ICA","MOQUEGUA", "PUNO", "TACNA"), "Sur", "NA"))))
autoridades_2 |>
group_by(Región, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Region), fill=Sexo)) +
ggtitle("Distribución de candidatos por región y sexo")
library(ggmosaic)
autoridades_2 |>
group_by(Región, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Region), fill=Sexo)) +
ggtitle("Distribución de candidatos por región y sexo")
autoridades_2 |>
group_by(Región, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Región), fill=Sexo)) +
ggtitle("Distribución de candidatos por región y sexo")
autoridades_2 |>
group_by(macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Macrorregion), fill=Sexo)) +
ggtitle("Distribución de candidatos por macrorregión y sexo")
autoridades_2 |>
group_by(Macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Macrorregion), fill=Sexo)) +
ggtitle("Distribución de candidatos por macrorregión y sexo")
autoridades_2 |>
group_by(Macrorregion, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Macrorregion), fill=Sexo)) +
ggtitle("Distribución de autoridades electas por macrorregión y sexo")+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
autoridades_2 |>
group_by(Región, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Región), fill=Sexo)) +
ggtitle("Distribución de autoridades electas por región y sexo")+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
autoridades_2 |>
group_by(Región, Sexo) |>
ggplot()+
geom_mosaic(aes(x = product(Región), fill=Sexo)) +
ggtitle("Distribución de autoridades electas por región y sexo")+
theme(axis.text.x = element_text(angle = 90, hjust = 1), legend.position = "none")
